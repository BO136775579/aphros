.POSIX:
.SUFFIXES:
.SUFFIXES: .o .c
CFLAGS = -g -O2
PREFIX = $(APHROS_PREFIX)
O = bbox.o  err.o  main.o  memory.o  off.o  ply.o  predicate.o  stl.o
L = libinside.a
H = inside.h
libinside.a: $O; ar rv $@ $O && ranlib $@
.c.o:; $(CC) $< -c $(CFLAGS)

lint:; make CFLAGS='-Wall -Wextra -g -O2'
install: $L $H
	mkdir -p -- "$(PREFIX)/lib" "$(PREFIX)/include/"
	cp -- $L "$(PREFIX)/lib/"
	cp -- $H "$(PREFIX)/include/"
clean:; rm -f -- $O $L
main.o: bbox.h
main.o: err.h
main.o: memory.h
bbox.o: bbox.h
bbox.o: err.h
bbox.o: memory.h
err.o: err.h
memory.o: memory.h
off.o: inside.h
off.o: err.h
plo.o: ply.h
ply.o: inside.h
plo.o: memory.h
predicate.o: predicate.h
predicate.o: err.h
predicate.o: predicate/main.inc
stl.o: err.h
stl.o: inside.h
stl.o: memory.h
